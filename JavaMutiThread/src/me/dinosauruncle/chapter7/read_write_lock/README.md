# Read-Write Pattern

## Read-Write Pattern이란?

Thread가 인스턴스의 상태를  [읽는다]고 하는 처리를 실행해도 인스턴스의 상태를 바뀌지 않는다.
인스턴스의 상태가 바뀌는 것은 쓰레드가 [쓰다]라고 하는 처리를 실행했을때이다.
인스턴스의 상태 변화의 관점에서 볼 때 읽는다와 쓰다는 본질적으로 다르다.

읽기 처리를 실행해도 인스턴스의 상태가 바뀌지 않으므로 여러 개의 쓰레드가
동시에 읽는 것은 문제가 없다. 하지만 읽고 있는 중간에는 쓸 수 없다.
쓰기를 실행하면 인스턴스의 상태가 달라지기 때문에 어느 한 쓰레드가 쓰기를
하는 중에는 다른 쓰레드가 읽고 쓰는 것이 불가능하다.
=> 배타제어를 하면 수행 능력이 떨어지지만 쓰기에 대한 배타제어와 읽기에 
대한 배타제어를 분리해서 생각하면 수행 능력을 높일 수가 있다

## 예제

<table>
	<tr>
		<td>이름</td>
		<td>해설</td>
	</tr>
	<tr>
		<td>Ch7AMain</td>
		<td>동작 테스트용 클래스</td>
	</tr>
	<tr>
		<td>Data</td>
		<td>읽고 쓰기가 가능한 클래</td>
	</tr>
	<tr>
		<td>WriterThread</td>
		<td>쓰려고 하는 쓰레드를 나타내는 클래스</td>
	</tr>
	<tr>
		<td>ReadWriteLock</td>
		<td>읽고 쓰기의 락을 제공하는 클래</td>
	</tr>
</table>

